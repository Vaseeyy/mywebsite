<!DOCTYPE html>
<html lang="en">

<head>

    <title>Google Maps</title>

</head>

<body>
  <div id="map" style="width: 600px; height: 400px;"></div>
    <div>
        <input id="address" type="textbox">
        <input type="button" value="Search Address" onclick="getCoordinates()">
    </div>
    <div>
      <label>Origin</label>
        <input id="origin" type="textbox">
      <label>Destination</label>
        <input id="destination" type="textbox">
        <input type="button" value="Search Route" onclick="calcRoute()">
    </div>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBMTVcH-Vl6sDMZ-5x7Yt57zUcleqgHKrQ&callback=initMap&v=weekly"
      defer></script>
<script>
        var geocoder;
        var map;
        var directionsService;
        var directionsRenderer;
       
        function initMap() {
            geocoder = new google.maps.Geocoder();
            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer();
            const coordinates = { lat: 54.934686, lng: -1.520978 };

            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 13,
                center: coordinates,
            });
            directionsRenderer.setMap(map);
        }
        function getCoordinates() {
            var address = document.getElementById('address').value;
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == 'OK') {
                    map.setCenter(results[0].geometry.location);
                    var marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location
                    });
                } else {
                    alert('Geocode was not successful for the following reason: ' + status);
                }
            });
        }
        function calcRoute() {
            var start = document.getElementById('origin').value;
            var end = document.getElementById('destination').value;
            var request = {
                origin: start,
                destination: end,
                travelMode: 'DRIVING'
            };
            directionsService.route(request, function (result, status) {
                if (status == 'OK') {
                    directionsRenderer.setDirections(result);
                } else { alert("An unexpected error occurred")}
            });
        }

    </script>
    
</body>

</html>